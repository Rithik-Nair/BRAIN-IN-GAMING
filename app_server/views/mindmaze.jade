doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title Mind Maze - Card Game
    style.
      /* General body styles */
      body {
        font-family: Arial, sans-serif;
        text-align: center;
        background: #f0f0f0;
        color: #000;
        margin: 0;
        padding: 20px;
      }

      /* Card styles */
      .card {
        width: 120px;
        height: 180px;
        border: 2px solid #000;
        background-color: #ccc; /* Back-facing color */
        border-radius: 10px;
        cursor: pointer;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        transition: transform 0.3s ease-in-out;
        display: inline-block;
        margin: 10px;
        position: relative;
      }

      .card:hover {
        transform: scale(1.05);
      }

      .card img {
        width: 100%;
        height: 100%;
        border-radius: 10px;
        display: none; /* Hide image initially */
        position: absolute;
        top: 0;
        left: 0;
      }

      /* Button container for back and start buttons */
      .button-container {
        margin-bottom: 20px;
      }

      button.back, button.start {
        color: #fff;
        background: #607d8b;
        border: none;
        border-radius: 8px;
        padding: 15px 25px;
        font-size: 18px;
        cursor: pointer;
        transition: background 0.3s ease;
        margin-right: 10px;
      }

      button.back:hover, button.start:hover {
        background: #3e4a52;
      }

      /* Grid layout for card deck */
      #card-deck {
        display: grid;
        grid-template-columns: repeat(4, 120px); /* 4 columns of cards */
        justify-content: center;
        gap: 20px;
        margin-top: 20px;
      }

  body
    h1 Mind Maze - Card Game
    .button-container
      button.back(onclick="window.location.href='/'") Back to Home
      button.start(onclick="startGame()") Start Game
    div#card-deck
      // Empty at the start, will be populated by JavaScript

    script.
      // Example array of cards
      const cards = [
        { name: 'Card 1', image: '/images/card1.jpg' },
        { name: 'Card 2', image: '/images/card2.jpg' },
        { name: 'Card 3', image: '/images/card3.jpg' },
        { name: 'Card 4', image: '/images/card4.jpg' },
        { name: 'Card 5', image: '/images/card5.jpg' },
        { name: 'Card 6', image: '/images/card6.jpg' },
        { name: 'Card 1', image: '/images/card1.jpg' },
        { name: 'Card 2', image: '/images/card2.jpg' },
        { name: 'Card 3', image: '/images/card3.jpg' },
        { name: 'Card 4', image: '/images/card4.jpg' },
        { name: 'Card 5', image: '/images/card5.jpg' },
        { name: 'Card 6', image: '/images/card6.jpg' }
      ];

      // Shuffle the cards
      function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
      }

      // Start game function
      function startGame() {
        // Shuffle the cards
        shuffle(cards);
        const cardDeck = document.getElementById('card-deck');
        cardDeck.innerHTML = ''; // Clear existing cards
        cards.forEach((card, index) => {
          const cardElement = document.createElement('div');
          cardElement.classList.add('card');
          cardElement.setAttribute('data-index', index);
          cardElement.setAttribute('id', 'card-' + index);
          const imgElement = document.createElement('img');
          imgElement.setAttribute('src', card.image);
          imgElement.setAttribute('alt', card.name);
          cardElement.appendChild(imgElement);
          cardElement.setAttribute('onclick', 'flipCard(this)'); // Set click event for card
          cardDeck.appendChild(cardElement);
        });
      }

      // Function to flip the card
      let flippedCards = [];
      let points = 0;

      function flipCard(cardElement) {
        const imgElement = cardElement.querySelector('img');
        
        // Check if the card is already flipped
        if (imgElement.style.display === 'block') return; // Skip if already flipped
        
        // Show the image of the flipped card
        imgElement.style.display = 'block';
        
        flippedCards.push({ cardElement, imgElement });
        
        if (flippedCards.length === 2) {
          checkMatch();
        }
      }

      function checkMatch() {
        const [firstCard, secondCard] = flippedCards;
        
        if (firstCard.imgElement.src === secondCard.imgElement.src) {
          points++;
          flippedCards = [];
        } else {
          setTimeout(() => {
            firstCard.imgElement.style.display = 'none';
            secondCard.imgElement.style.display = 'none';
            flippedCards = [];
          }, 1000);
        }

        console.log('Points:', points);
      }
