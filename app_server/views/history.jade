doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title Game History - Brain in Gaming
    script(src="https://cdn.jsdelivr.net/npm/chart.js")
    style.
      body {
        font-family: Arial, sans-serif;
        text-align: center;
        background: #f8f9fa;
        color: #333;
        margin: 0;
        padding: 20px;
      }

      h1 {
        margin-top: 20px;
        color: #2c3e50;
      }

      canvas {
        margin-top: 30px;
        width: 80%;
        max-width: 800px;
      }

      button.back {
        margin-top: 20px;
        color: #fff;
        background: #607d8b;
        border: none;
        border-radius: 8px;
        padding: 15px 25px;
        font-size: 18px;
        cursor: pointer;
        transition: background 0.3s ease;
      }

      button.back:hover {
        background: #3e4a52;
      }

  body
    h1 Game History Overview
    canvas(id="history-chart")
    button.back(onclick="window.location.href='/'") Back to Home

    script.
      document.addEventListener('DOMContentLoaded', () => {
        const ctx = document.getElementById('history-chart').getContext('2d');

        // Example BCI data for all 4 games
        const gameData = {
          labels: ['Mind Maze', 'Neuro Dash', 'Brain Beats', 'Cerebral Crossing'], // Game Names
          datasets: [
            {
              label: 'Focus Level (%)',
              data: [85, 80, 75, 88], // Focus levels for each game
              backgroundColor: ['#4caf50', '#ff9800', '#2196f3', '#9c27b0'], // Bar colors
              borderColor: ['#388e3c', '#e65100', '#0d47a1', '#6a1b9a'], // Border colors
              borderWidth: 1,
            },
            {
              label: 'Cognitive Load (%)',
              data: [65, 70, 60, 68], // Cognitive load for each game
              backgroundColor: ['#8bc34a', '#ffb74d', '#64b5f6', '#ba68c8'], // Bar colors
              borderColor: ['#558b2f', '#f57c00', '#1976d2', '#7b1fa2'], // Border colors
              borderWidth: 1,
            },
            {
              label: 'Engagement Level (%)',
              data: [90, 85, 95, 80], // Engagement levels for each game
              backgroundColor: ['#ff5722', '#cddc39', '#009688', '#3f51b5'], // Bar colors
              borderColor: ['#bf360c', '#9e9d24', '#004d40', '#1a237e'], // Border colors
              borderWidth: 1,
            },
          ],
        };

        // Chart configuration
        const config = {
          type: 'bar',
          data: gameData,
          options: {
            responsive: true,
            plugins: {
              legend: {
                display: true,
                labels: {
                  color: '#333',
                  font: {
                    size: 14,
                  },
                },
              },
            },
            scales: {
              x: {
                title: {
                  display: true,
                  text: 'Games',
                  color: '#2c3e50',
                  font: {
                    size: 16,
                    weight: 'bold',
                  },
                },
                ticks: {
                  color: '#2c3e50',
                },
              },
              y: {
                title: {
                  display: true,
                  text: 'Metrics (%)',
                  color: '#2c3e50',
                  font: {
                    size: 16,
                    weight: 'bold',
                  },
                },
                ticks: {
                  beginAtZero: true,
                  color: '#2c3e50',
                },
              },
            },
          },
        };

        // Render the chart
        new Chart(ctx, config);
      });
